<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/YODA"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>3385. Yoda Goes Palindromic !</h1>
		<h2>Problem code: YODA</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p>According to a very famous web site, which in this case we will trust, defines a palindrome
as &#8216;a word, phrase, verse, or sentence that reads the same backward or forward&#8217;. For
example, the phrase A man, a plan, a canal, Panama! is a palindrome. Actually, writing
texts consisting of only palindromes is part of a literary technique called constrained writing.<br><br>
Now imagine the wise Yoda, the master of all, whose proficiency putting words together
in sentences is one of his well-kwnown abilities. He is now interested in enriching his long-
lasting, and maybe boring, inactivity periods by &#8216;composing&#8217; palindromic sentences. That
is, he has plans to use only palindromic sentences for his chats. For this matter, he needs
to practice. The first task in his practice plan is to count all the palindromes that can be
arranged out of a collection of characters.<br><br>
Today, you will be Yoda&#8217;s assistant for this first task. Your only mission is to, given
a sequence of characters, determine how many palindromes can be obtained with some
of the characters in the sequence; you will only take into account uppercase or lowercase
letters. Put in other way, you need to determine how many permutations of a give sequence
of characters are palindromes. Your solution will help definitively master Yoga.


<h3>Input</h3>
<p>The input consists of several test cases, one per line. For each test case, the input consist of a
sequence of ASCII characters.


<h3>Output</h3>
<p>For each test case you should print in a single line, and according to the order of the test cases,
the total number of palindromes generated by the input sequence of ASCII characters. For your
purpose, you should only consider uppercase or lowercase characters appearing in the input; any
other character should be ignored in the calculations. Uppercase and lowercase characters are not
considered different; for example, A and a should not be considered different. In any case, the
total number of palindromes will not exceed the number e^43 , where e is approximately 2.71828.
Remember that the empty sequence is a palindrome itself.


<h3>Example</h3>

<pre>
<b>Input:</b>
A man, a plan, a canal, Panama!
arD,R!A
B.a.C1/
12[&#8217;;. =1

<b>Output:</b>
15120
2
0
1

</pre>


<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/dilaang">Daniel GÃ³mez Didier</a></td></tr>
<tr><td>Date:</td><td>2008-11-18</td></tr>
<tr><td>Time limit:</td><td>3.950s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: ERL JS SCM chicken </td></tr>
<tr><td>Resource:</td><td>2007 U.Nacional - Circuito de Maratones ACIS / REDIS</td></tr>	
</table>

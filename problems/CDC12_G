<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/CDC12_G"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>12562. Glory War</h1>
		<h2>Problem code: CDC12_G</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p>&nbsp;</p>
<p style="text-align: justify;">Ronny is hiding on the building where he left his family after failing the guard test (the guard</p>
<p style="text-align: justify;">told him not to cheat and got angry after your help). The rainbowlandians are brutally attack-</p>
<p style="text-align: justify;">ing the citizens of planet Earth, there are corpses everywhere and desesperate people running</p>
<p style="text-align: justify;">on the street. Ronny must protect his family and that&rsquo;s why he has decided to take down all</p>
<p style="text-align: justify;">the rainbowlandians inside the building as soon as possible.</p>
<p style="text-align: justify;">Ronny know very little about the rainbowlandians, but he knows that he must be silent when</p>
<p style="text-align: justify;">he takes down one of then, hence, he hides his noisy gun in his pocket, impeding him to attack</p>
<p style="text-align: justify;">them from the distance. In order to take down the Rainbowlandians, a knife or a good flying</p>
<p style="text-align: justify;">kick will do the job. Ronny must step on the same space a Rainbowlandian is to take him</p>
<p style="text-align: justify;">down. The building is full of rubble and some paths will lead to a trap. Fortunately, Ronnie</p>
<p style="text-align: justify;">can throw a rope and go up or down through floors while he is walking the building. Obviously,</p>
<p style="text-align: justify;">he cannot throw the rope if this will lead him to a rubble-full step.</p>
<p style="text-align: justify;">Given the dimensions of the building, its width, height and depth and the marked targets,</p>
<p style="text-align: justify;">you&rsquo;re to make a program to help Ronny take down the Rainbowlandians in the minimum</p>
<p style="text-align: justify;">steps possible so he can do the minimum noise possible.</p>
<p style="text-align: justify;">Please note that:</p>
<p style="padding-left: 30px; text-align: justify;">&bull; Ronny starts at the north west corner of the first floor of the building (1,1,1)</p>
<p style="padding-left: 30px; text-align: justify;">&bull; Ronny can only move to these possible directions: east, west, north, south, in addition,</p>
<p style="padding-left: 30px; text-align: justify;">he can go while moving up or down.</p>
<p style="padding-left: 30px; text-align: justify;">&bull; Ronny cannot leave the building at any moment and there&rsquo;s no basement in the building</p>
<p style="text-align: justify;">neither, so he can&rsquo;t be lower than height 1.</p>
<p style="text-align: justify;">&nbsp;</p>
<p style="text-align: justify;"><strong>Input</strong></p>
<p style="text-align: justify;">The first line contains an integer T , which specifies the number of test cases. Then, will follow</p>
<p style="text-align: justify;">the descriptions of T test cases.</p>
<p style="text-align: justify;">Each test case will start with two integers N and H, where N denotes the width and depth of</p>
<p style="text-align: justify;">each floor and H denotes the number of floors. Then, there will be H N&times;N matrices, each one</p>
<p style="text-align: justify;">describing each floor. The floor description is composed of the following characters:</p>
<p style="padding-left: 30px; text-align: justify;">&bull; The character &rsquo;#&rsquo; denotes a rubble space.</p>
<p style="padding-left: 30px; text-align: justify;">&bull; The character &rsquo;.&rsquo; denotes a free space.</p>
<p style="padding-left: 30px; text-align: justify;">&bull; The character &rsquo;*&rsquo; denotes a rainbowlandian.</p>
<p style="text-align: justify;">The input must be read from standard input.</p>
<p style="text-align: justify;">&nbsp;</p>
<p style="text-align: justify;"><strong>Output</strong></p>
<p style="text-align: justify;">For each input case you must print the string "Scenario #i: " where i is the test case you&rsquo;re</p>
<p style="text-align: justify;">evaluating (starting by 1), followed by the minimum steps that Ronny have to make to take</p>
<p style="text-align: justify;">down all the enemies inside the building. If this is impossible, print -1.</p>
<p style="text-align: justify;">The output must be written to standard output.</p>
<p style="text-align: justify;">&nbsp;</p>
<table border="2">
<tbody>
<tr>
<td>Input</td>
<td>Output</td>
</tr>
<tr align="left" valign="top">
<td>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">3&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">2 1&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">..&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">.*&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">3 2&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">.#.&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">.##&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">##.&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">#.#&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">###&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">.#*&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">4 3&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">....&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">.##.&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">####&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">****&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">####&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">####&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">....&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">#.##&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">####&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">*..*&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">*..*&nbsp;</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 816px; width: 1px; height: 1px; overflow: hidden;">####&nbsp;</div>
<p>3</p>
<p>2 1</p>
<p>..</p>
<p>.*</p>
<p>3 2</p>
<p>.#.</p>
<p>.##</p>
<p>##.</p>
<p>#.#</p>
<p>###</p>
<p>.#*</p>
<p>4 3</p>
<p>....</p>
<p>.##.</p>
<p>####</p>
<p>****</p>
<p>####</p>
<p>####</p>
<p>....</p>
<p>#.##</p>
<p>####</p>
<p>*..*</p>
<p>*..*</p>
<p>####</p>
</td>
<td>
<p>Scenario #1: 2</p>
<p>Scenario #2: -1</p>
<p>Scenario #3: 13</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Constraints</strong></p>
<p style="padding-left: 30px;">&bull; 1 &le; T &le; 30</p>
<p style="padding-left: 30px;">&bull; 1 &le; N &le; 20</p>
<p style="padding-left: 30px;">&bull; 1 &le; H &le; 20</p>
<p style="padding-left: 30px;">&bull; 1 &le; Targets &le; 10</p>
<p>&nbsp;</p>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/vplcontest">Venezuelan Programming League</a></td></tr>
<tr><td>Date:</td><td>2012-10-27</td></tr>
<tr><td>Time limit:</td><td>2s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: SCM chicken </td></tr>
<tr><td>Resource:</td><td>Own problem used for UCV-CEIDEC contest.</td></tr>	
</table>

<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/NITTROAD"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>13868. Roads of NITT</h1>
		<h2>Problem code: NITTROAD</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The Institute of NITT believes in frugality. So when they made the plan for interconnecting the N hostels, they decided to construct as few bidirectional roads as possible. The hostels are interconnected with roads in such a way that every pair of hostels is connected by exactly one path.</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Moreover, they were so frugal that they used low quality tar in making the roads. As a result, the roads start to crack and cannot be used anymore.</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Now Alpa has a set of queries. At the time of each query, he knows the roads that are un-usable. He wants to find the number of pairs of hostels that are disconnected, i.e, the number of pairs (x,y) such that 1 &lt;= x &lt; y &lt;= N and there exists no path between hostels x and y.</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Help him find the result for each query.</span></span></span></div>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The Institute of NITT believes in frugality. So when they made the plan for interconnecting the N hostels, they decided to construct as few bidirectional roads as possible. The hostels are interconnected with roads in such a way that every pair of hostels is connected by exactly one path.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Moreover, they were so frugal that they used low quality tar in making the roads. As a result, the roads start to crack and cannot be used anymore.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Now Alpa has a set of queries. At the time of each query, he knows the roads that are un-usable. He wants to find the number of pairs of hostels that are disconnected, i.e, the number of pairs (x,y) such that 1 &lt;= x &lt; y &lt;= N and there exists no path between hostels x and y.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Help him find the result for each query.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><strong><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Constraints:</span></span></span></strong></p>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Test cases &lt;= 5</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">No. of hostels, N &lt;= 20000</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">No. of queries, Q &lt;= 20000</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Input</span></span></span></h3>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">First line contains t, the total test cases.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Each test case looks &nbsp;as follows:</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">First line contains N, total number of hostels.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Next N - 1 lines contain two integers x and y, indicating that there is a road &nbsp;between x and y. (1 &lt;= x &lt; y &lt;= N). The roads are numbered from 1 to N - 1.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Next line contains Q, total number of queries.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Next Q lines contain the Q queries.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Each query may be of the following two forms:</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">R x - Remove the road numbered x. It is guaranteed that this road existsand hasn't already been removed.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Q - Output the total number of pairs (x, y) such that 1 &lt;= x &lt; y &lt;= N and there exists no path between hostels x and y.</span></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Output</span></span></span></h3>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">For each test case,</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Output a line for each query with the required value.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Print a blank line after each test case.</span></span></span></p>
<p>&nbsp;</p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"> </span></span></span></p>
<h3 style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Example</span></span></span></h3>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><strong>Input:</strong>
2</span></span></span></span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;">
3
1 2
1 3
5
Q
R 1
Q
R 2
Q

4
1 2
1 3
1 4
7
Q
R 1
Q
R 2
Q
R 3
Q
<span style="font-family: 'courier new', courier;">
<strong>Output:</strong>
0
2
3

0
3
5
6</span></span></span></pre>
<p>&nbsp;</p>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></p>
<h3><span style="font-family: 'courier new', courier; font-size: x-small;"><br /></span></h3>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/avatar10">Aditya Muraletharan</a></td></tr>
<tr><td>Date:</td><td>2013-02-22</td></tr>
<tr><td>Time limit:</td><td>0.143s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: SCM chicken </td></tr>
<tr><td>Resource:</td><td>That would be me.</td></tr>	
</table>

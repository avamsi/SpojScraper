<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/BALL"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>8391. The Ball</h1>
		<h2>Problem code: BALL</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p>In a coordinate plane, there are N horizontal conveyor belts, each moving either leftwards or rightwards. When the ball falls on a belt, the belt drags it in direction it's moving. When the ball reaches the end of the belt, it falls vertically downwards. For example, if the belt is moving rightwards and it ends in the unit square with x-coordinate 12, the ball will fall from the belt on the x-coordinate 13, and continue falling on the same x-coordinate until it falls on another belt or reaches the ground (the height of 0).</p>
<p>Frane drops a ball many times (from the height that is greater than any of the belt heights), from various x-coordinates, and your task is: for each ball Frane drops, determine the direction of each belt such that this ball falls on as many belts as possible.</p>
<p>This picture reprezents the first test example: &nbsp;<img title="First example" src="http://i.imgur.com/hjvKB.png" alt="" width="211" height="161" /></p>
<h3>Input</h3>
<p>In the first line of input, there is an integer N (the number of conveyor belts, 1 &le; N &le;&nbsp;100000).</p>
<p>In each of the next N lines, there are integers X1, X2, Y (X1 &le;&nbsp;X2, 0 &lt; X1, X2, Y &lt; 10<sup>9</sup>) reprezenting the belt. Imagine the belt as a segment of which the bounding unit squares are (X1, Y) and (X2, Y). The belt's thickness is zero and it lies on the bottom of the given unit squares. The belts will not touch or overlap each other.</p>
<p>In the next line, there is an integer Q (the number of falling balls, 1 &le; Q &le;&nbsp;100000).</p>
<p>In the next Q lines there is an integer less than 10<sup>9</sup>, reprezenting the x-coordinate of the unit square Frane drops the ball from.</p>
<h3>Output</h3>
<p>For each of the Q queries, output the greatest possible number of the conveyor belts visited by the ball.</p>
<h3>Example</h3>
<pre><strong>Input:</strong>
<pre style="font-family: 'Courier New', Courier, monospace; font-size: 12px;">3
1 4 3
5 7 2
2 4 1
4
1
4
5
6</pre>
<strong>Output:</strong></pre>
<pre>3</pre>
<pre>3</pre>
<pre>2</pre>
<pre>2</pre>
<pre><strong>Input:</strong></pre>
<pre><pre style="font-family: 'Courier New', Courier, monospace; font-size: 12px; font-weight: bold;">3
5 20 20
15 30 15
10 14 11
3
5
30
516546</pre>
<pre style="font-family: 'Courier New', Courier, monospace; font-size: 12px; font-weight: bold;"><strong><strong>Output:</strong></strong></pre>
<pre style="font-family: 'Courier New', Courier, monospace; font-size: 12px; font-weight: bold;"><pre style="color: #000000; font-family: 'Courier New', Courier, monospace; font-size: 12px; font-weight: bold; margin: 8px;">3
2
0</pre>
<strong> </strong></pre>
</pre>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/askurdija">Adrian Satja Kurdija</a></td></tr>
<tr><td>Date:</td><td>2011-02-21</td></tr>
<tr><td>Time limit:</td><td>0.244s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: SCM chicken </td></tr>
<tr><td>Resource:</td><td>Frane Kurtovi√¶</td></tr>	
</table>

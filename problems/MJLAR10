<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/MJLAR10"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>7761. Jollo</h1>
		<h2>Problem code: MJLAR10</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p>&nbsp;</p>
<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; ">
<p>&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<div style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; ">
<p>   </p>
</div>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<table style="cursor: default; width: 748px; background-color: #44c23c; font-size: 10px; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; border: 1px dashed #bbbbbb;" border="0">
<tbody>
<tr>
<td style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; cursor: text; text-align: center; margin: 8px; border: 1px dashed #bbbbbb;" width="50%"><a href="/SPOJ/problems/MTEMP/en/">English</a></td>
<td style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; cursor: text; text-align: center; margin: 8px; border: 1px dashed #bbbbbb;" width="50%"><a href="/SPOJ/problems/MTEMP/vn/">Vietnamese</a></td>
</tr>
</tbody>
</table>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; "></p>
<p style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; ">&nbsp;</p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">Gene and Gina have a particular kind of farm. Instead of growing animals and vegetables, as</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">it is usually the case in regular farms, they grow strings. A string is a sequence of characters.</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">Strings have the particularity that, as they grow, they add characters to the left and/or to the</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">right of themselves, but they never lose characters, nor insert new characters in the middle.</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">Gene and Gina have a collection of photos of some strings at di&#64256;erent times during their growth.</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">The problem is that the collection is not annotated, so they forgot to which string each photo</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">belongs to. They want to put together a wall to illustrate strings growing procedures, but they</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">need your help to &#64257;nd an appropriate sequence of photos.</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">Each photo illustrates a string. The sequence of photos must be such that if si comes imme-</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">diately before si+1 in the sequence, then si+1 is a string that may have grown from si (i.e., si</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">appears as a consecutive substring of si+1). Also, they do not want to use repeated pictures,</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">so all strings in the sequence must be di&#64256;erent.</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">Given a set of strings representing all available photos, your job is to calculate the size of the</div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 448px; width: 1px; height: 1px; overflow: hidden; color: #000000; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 10px; border: 1px dashed #bbbbbb;">largest sequence they can produce following the guidelines above.</div>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; text-align: justify; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; ">
<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; text-align: justify; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; "><span><span style="font-size: small;">Jollo is a simple card game which the children from Logonia love to play. It is played between&nbsp;</span></span><span><span style="font-size: small;">two players with a normal deck of 52 cards. In the game, cards are ordered according to their&nbsp;</span></span><span><span style="font-size: small;">rank and suit, forming a sequence of 52 distinct values.</span></span></div>
<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; text-align: justify; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; "><span><span style="font-size: small;">The game is composed of three rounds, played in a best-of-three series (a player must win two&nbsp;</span></span><span><span style="font-size: small;">rounds to win the game). At the beginning of the game the deck is shu&#64260;ed and each player&nbsp;</span></span><span><span style="font-size: small;">is given a hand of three cards. In each round the players show one card to each other and the&nbsp;</span></span><span><span style="font-size: small;">player with the highest card wins the round. The cards shown in a round are discarded (i.e.,&nbsp;</span></span><span><span style="font-size: small;">they cannot be shown again).</span></span></div>
<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #ffffff; text-align: justify; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; "><span><span style="font-size: small;">The King&rsquo;s son loves to play the game. But he is not very smart, losing frequently to his little&nbsp;</span></span><span><span style="font-size: small;">sister. And when he loses, he cries so loud no one can stand it. The servant who deals the&nbsp;</span></span><span><span style="font-size: small;">cards to the Prince and his sister is afraid he will be sent to prison if the Prince continues to&nbsp;</span></span><span><span style="font-size: small;">lose. The servant is allowed to see every card he deals, and after dealing &#64257;ve cards (three to&nbsp;</span></span><span><span style="font-size: small;">the Princess and two to the Prince) he wants to know which is the lowest card he should deal&nbsp;</span></span><span><span style="font-size: small;">to the Prince so that there is no chance he will lose the game, no matter how badly he plays.</span></span></div>
</div>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<h1 style="font-size: 2em; text-align: center; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">Input</h1>
<p>&nbsp;</p>
<p style="text-align: justify; "><span><span style="font-size: small;">Each test case is given in a single line that contains &#64257;ve distinct integers A, B, C, X and &nbsp;</span></span><span><span style="font-size: small;">Y , describing the cards dealt to the players. The &#64257;rst three cards are given to the Princess&nbsp;</span></span><span><span style="font-size: small;">(1 &le; A,B,C &le; 52) and the last two cards are given to the Prince (1 &le; X, Y &le; 52).&nbsp;</span></span><span><span style="font-size: small;">The last test case is followed by a line containing &#64257;ve zeros.</span></span></p>
<p>&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<h1 style="font-size: 2em; text-align: center; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">Output</h1>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="text-align: justify;"><span style="font-size: small;">For each test case output a single line. If there exists a card that will make the Prince win the&nbsp;<span>game no matter how badly he plays, you must print the lowest such a card. Otherwise, print&nbsp;</span><span>-1.</span></span></p>
<p>&nbsp;</p>
<h1 style="font-size: 2em; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: center;">Sample</h1>
<pre style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; text-align: justify; margin-top: 8px; margin-right: 8px; margin-bottom: 8px; margin-left: 8px; "><span style="font-size: x-small;"><strong><span style="font-size: small;">input</span></strong><br /></span><span style="font-size: small;">4 3
28 51 29 50 52
50 26 19 10 27
10 20 30 24 26
46 48 49 47 50
0 0 0 0 0</span><span style="font-size: x-small;"><br /><br /></span><strong><span style="font-size: small;">output</span></strong><span style="font-size: x-small;"><br /></span><span style="font-size: small;">30
-1
21
51</span></pre>
<p style="color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; "> </p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p style="font-size: 10px; color: #000000; font-family: Verdana, Arial, Helvetica, sans-serif; ">&nbsp;</p>
<p>&nbsp;</p>
</div>
<p>&nbsp;</p>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/vdmedragon">~!(*(@*!@^&</a></td></tr>
<tr><td>Date:</td><td>2010-11-05</td></tr>
<tr><td>Time limit:</td><td>0.187s-0.987s</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: SCM chicken </td></tr>
<tr><td>Resource:</td><td>ACM ICPC2010 &#8211; Latin American Regional</td></tr>	
</table>

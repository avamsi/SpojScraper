<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/HC12III"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>13622. Dead Pixels</h1>
		<h2>Problem code: HC12III</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p style="margin: 1em 0px; color: #333333; line-height: 16px;"><span style="font-size: small;">John's friend Peter purchases a new high resolution monitor with dimension&nbsp;<strong>W</strong>&nbsp;*&nbsp;<strong>H</strong>&nbsp;where&nbsp;<strong>W</strong>&nbsp;is the number of pixels in each row (i.e. width) and&nbsp;<strong>H</strong>&nbsp;is the number of pixels in each column (i.e. height).</span></p>
<p style="margin: 1em 0px; color: #333333; line-height: 16px;"><span style="font-size: small;">However, there are&nbsp;<strong>N</strong>&nbsp;dead pixels on the monitor. The&nbsp;<strong>i</strong>-th dead pixel is located at (<strong>x</strong>[<strong>i</strong>],&nbsp;<strong>y</strong>[<strong>i</strong>]). (0, 0) is the top-left pixel and (<strong>W</strong>&nbsp;- 1,&nbsp;<strong>H</strong>&nbsp;- 1) is the bottom-right pixel. The locations of the dead pixels could be generated by 6 given integers&nbsp;<strong>X</strong>,&nbsp;<strong>Y</strong>,&nbsp;<strong>a</strong>,&nbsp;<strong>b</strong>,&nbsp;<strong>c</strong>&nbsp;and&nbsp;<strong>d</strong>&nbsp;by the following rules. If 2 pixels are at the same location, they are considered the same. It is possible that there are less than&nbsp;<strong>N</strong>&nbsp;<strong>distinct</strong>&nbsp;dead pixels.</span></p>
<p style="margin: 1em 0px; color: #333333; font-family: 'lucida grande', tahoma, verdana, arial, sans-serif; font-size: 11px; line-height: 16px;">&nbsp;</p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 33px; width: 1px; height: 1px; overflow: hidden;"><span style="font-size: small;">x[0] = X</span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 33px; width: 1px; height: 1px; overflow: hidden;"><span style="font-size: small;">y[0] = Y</span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 33px; width: 1px; height: 1px; overflow: hidden;"><span style="font-size: small;">x[i] = (x[i - 1] * a + y[i - 1] * b + 1) % W (for 0 &lt; i &lt; N)</span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 33px; width: 1px; height: 1px; overflow: hidden;"><span style="font-size: small;">y[i] = (x[i - 1] * c + y[i - 1] * d + 1) % H &nbsp;(for 0 &lt; i &lt; N)</span></div>
<p>&nbsp;</p>
<p><span style="font-size: small;"><br /></span></p>
<p><span style="font-size: small;">x[0] = X</span></p>
<p><span style="font-size: small;">y[0] = Y</span></p>
<p><span style="font-size: small;">x[i] = (x[i - 1] * a + y[i - 1] * b + 1) % W (for 0 &lt; i &lt; N)</span></p>
<p><span style="font-size: small;">y[i] = (x[i - 1] * c + y[i - 1] * d + 1) % H &nbsp;(for 0 &lt; i &lt; N)</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="margin: 1em 0px; color: #333333; line-height: 16px;"><span style="font-size: small;">Peter connects his monitor to his computer and opens an image with dimension&nbsp;<strong>P</strong>&nbsp;(width) *&nbsp;<strong>Q</strong>&nbsp;(height). How many unique positions can the image be placed so that it can be displayed perfectly (i.e. all pixels of the picture are shown on the monitor)? The image cannot be rotated.</span></p>
<p><span style="font-size: 1.17em;"><strong><span style="font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Input</span></strong></span></p>
<p><span style="font-size: small;"><span style="color: #333333; line-height: 16px;">The first line contains an integer&nbsp;</span><strong>T</strong><span style="color: #333333; line-height: 16px;">, which is the number of test cases. Then&nbsp;</span><strong>T</strong><span style="color: #333333; line-height: 16px;">&nbsp;test cases follow. Each test case contains 11 integers&nbsp;</span><strong>W</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>H</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>P</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>Q</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>N</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>X</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>Y</strong><span style="color: #333333; line-height: 16px;">,</span><strong>a</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>b</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>c</strong><span style="color: #333333; line-height: 16px;">,&nbsp;</span><strong>d</strong><span style="color: #333333; line-height: 16px;">.</span></span></p>
<h3><span style="font-size: small;">Output</span></h3>
<p><span style="font-size: small;"><span style="color: #333333; line-height: 16px;">For each of the test cases numbered in order from 1 to&nbsp;</span><strong>T</strong><span style="color: #333333; line-height: 16px;">, output "Case #", followed by the case number (with 1 being the first test case), followed by ": ", followed by an integer which is the number of different possible positions for the poster.</span></span></p>
<h3><span style="font-size: medium;">Example</span></h3>
<p><span style="font-size: medium;"><span style="font-size: small;"> </span></span></p>
<p><strong>Input:</strong></p>
<p>5</p>
<p>4 4 2 2 1 0 2 1 2 3 4</p>
<p>4 4 1 1 3 1 1 2 2 2 2</p>
<p>6 10 3 2 2 0 0 5 4 3 2</p>
<p>16 18 5 1 5 10 8 21 27 29 87</p>
<p>14 15 12 4 4 3 5 84 74 53 68</p>
<p><strong>Output:</strong></p>
<p>Case #1: 7</p>
<p>Case #2: 15</p>
<p>Case #3: 32</p>
<p>Case #4: 197</p>
<p>Case #5: 16</p>
<p>&nbsp;</p>
<p><strong>Constraints</strong></p>
<p>1 &le; T &le; 20</p>
<p>1 &le; W, H &le; 40 000</p>
<p>1 &le; P &le; W</p>
<p>1 &le; Q &le; H</p>
<p>1 &le; N &le; min(1 000 000, W * H)</p>
<p>1 &le; a, b, c, d &le; 100</p>
<p>0 &le; X &lt; W</p>
<p>0 &le; Y &lt; H</p>
<p>&nbsp;</p>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/abdelkarim">abdelkarim</a></td></tr>
<tr><td>Date:</td><td>2013-02-05</td></tr>
<tr><td>Time limit:</td><td>3.421s
</td></tr>
<tr><td>Source limit:</td><td>5000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: SCM chicken </td></tr>
<tr><td>Resource:</td><td>Facebook Hacker Cup 2013 Round 1</td></tr>	
</table>

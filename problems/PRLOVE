<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/PRLOVE"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>13592. Expected Time to Love</h1>
		<h2>Problem code: PRLOVE</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Alice has a problem. She loves Bob but is unable to face up to him. So she decides to send a letter to Bob expressing her feelings. She wants to send it from her computer to Bob's computer through the interet.</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The internet consists of N computers, numbered from 1 to N. Alice's computer has the number 1 and Bob's computer has the number N.&nbsp;</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Due to some faulty coding, the computers start behaving in unexpected ways. On recieving the file, computer i will forward it to computer j with probability P(i,j). The time taken to transfer the file from computer i to computer j is T(i,j).</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Find the expected time before Bob finds out about Alice's undying love for him.</span></span></span></div>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;"><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Note: Once the letter is recieved by Bob's computer, his computer will just deliver it to Bob and stop forwarding it.</span></span></span></div>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Alice has a problem. She loves Bob but is unable to face up to him. So she decides to send a letter to Bob expressing her feelings. She wants to send it from her computer to Bob's computer through the interet.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The internet consists of N computers, numbered from 1 to N. Alice's computer has the number 1 and Bob's computer has the number N.&nbsp;</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Due to some faulty coding, the computers start behaving in unexpected ways. On recieving the file, computer i will forward it to computer j with probability P<sub>ij.</sub> The time taken to transfer the file from computer i to computer j is T<sub>ij</sub>.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Find the expected time before Bob finds out about Alice's undying love for him.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Note: Once the letter is recieved by Bob's computer, his computer will just deliver it to Bob and stop forwarding it.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Input</span></span></span></h3>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">First line contains T, the total test cases.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Each test case looks &nbsp;as follows:</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">First line contains N, the total number of computers in the network.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The next N lines contain N numbers each. The j'th number on the i'th line is the value P<sub>ij</sub> in percents.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">The next N lines contain N numbers each. The j'th number on the i'th line is the value T<sub>ij.</sub></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Output</span></span></span></h3>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Output a single line with a real number - The expected time of the transfer.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Your output will be considered correct if each number has an absolute or</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"> relative error less than 10-6.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"> </span></span></span></p>
<p style="text-align: center;"><strong><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Constraints:</span></span></span></strong></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">N &lt;= 100</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">T &lt;= 5</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">For all i, P<sub>i1</sub> + P<sub>i2</sub> + ..... + PiN&nbsp;= 100</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">P<sub>NN</sub> = 100</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">For all i,j, 0 &lt;= T<sub>ij</sub> &lt;= 10000</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">You can safely assume that from every computer, the probability of eventually reaching Bob's computer is greater than 0.</span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<p><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></p>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;"><br /></span></span></span></h3>
<h3><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Example</span></span></span></h3>
<pre><strong><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">Sample Input:
<br /></span></span></span></strong></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">2<strong>
</strong>4
0 50 50 0
0 0 0 100
0 0 0 100
0 0 0 100

0 2 10 0
0 0 0 0
0 0 0 0
0 0 0 0</span></span></span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">2</span></span></span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">99 1</span></span></span></pre>
<pre><span style="font-family: 'courier new', courier; font-size: small;">0 100</span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">10 2</span></span></span></pre>
<pre><span style="font-family: 'courier new', courier; font-size: small;">0 0</span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">
<strong>Sample Output:</strong></span></span></span></pre>
<pre><span style="font-size: x-small;"><span style="font-size: small;"><span style="font-family: 'courier new', courier;">6.000000</span></span></span></pre>
<pre><span style="font-size: small;"><span style="font-family: 'courier new', courier;">992.000000</span></span></pre>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/avatar10">Aditya Muraletharan</a></td></tr>
<tr><td>Date:</td><td>2013-02-03</td></tr>
<tr><td>Time limit:</td><td>1s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>BASH C C++ 4.3.2 C++ 4.9 FORT HASK JAVA PAS fpc PAS gpc PYTH 2.7 PYTH 3.2.3 PYTH 3.2.3 n RUBY SCALA WSPC </td></tr>
<tr><td>Resource:</td><td>ByteCode '13</td></tr>	
</table>

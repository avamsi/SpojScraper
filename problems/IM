<head>
<meta charset="utf-8">
</head>
<style type="text/css">
	a { text-decoration: none }
	p { line-height: 1.8; }
	th {text-align: left; }
</style>
<font face="verdana"><p>
<a href="http://www.spoj.com/problems/IM"target="_blank">View problem on Spoj</a><br>
<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>962. Intergalactic Map</h1>
		<h2>Problem code: IM</h2>
	</td>
	</tr>
</table>

<p align="justify">
<p>

<img src="/content/simba:p1.jpg" style="float: right" vspace="3" hspace="8" alt="Map">

Jedi knights, Qui-Gon Jinn and his young apprentice Obi-Wan Kenobi, are entrusted by Queen Padm√© Amidala
to save <b>Naboo</b> from an invasion by the Trade Federation. They must leave Naboo immediately and go to <b>Tatooine</b>
to pick up the proof of the Federation&#8217;s evil design. They then must proceed on to the Republic&#8217;s capital
planet <b>Coruscant</b> to produce it in front of the Republic&#8217;s Senate. To help them in this endeavor, the queen&#8217;s captain provides them with an intergalactic map. This map shows connections between planets not yet blockaded by the Trade Federation. Any pair of planets has at most one connection between them, and all the connections are two-way. To avoid detection by enemy spies, the knights must embark on this adventure without visiting any planet more than once. Can you help them by determining if such a path exists?
<br><br><b>Note</b> - In the attached map, the desired path is shown in bold.

<h3>Input Description</h3>
<p>The first line of the input is a positive integer t &#8804; 20, which is the number of test cases. The descriptions
of the test cases follow one after the other. The first line of each test case is a pair of positive integers
n, m (separated by a single space). 2 &#8804; n &#8804; 30011 is the number of planets and m &#8804; 50011 is the number of connections
between planets. The planets are indexed with integers from 1 to n. The indices of Naboo, Tatooine and Coruscant
are 1, 2, 3 respectively. The next m lines contain two integers each, giving pairs of planets that have a
connection between them.

<h3>Output Description</h3>
<p>The output should contain t lines. The i<sup>th</sup> line corresponds to the i<sup>th</sup> test case.
The output for each test case should be <b>YES</b> if the required path exists and <b>NO</b> otherwise.

<h3>Example</h3>
<p><br><b>Input<br></b>

2<br>
3 3<br>
1 2<br>
2 3<br>
1 3<br>
3 1<br>
1 3<br>


<br><b>Output<br></b>

YES<br>
NO<br>


<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/SPOJ/users/simba">Kashyap KBR</a></td></tr>
<tr><td>Date:</td><td>2006-10-10</td></tr>
<tr><td>Time limit:</td><td>0.491s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>1536MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Cube (Intel Pentium G860 3GHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>All except: ASMGCC AWK C++ 4.3.2 C++14 CLOJ COB ERL F# GO GROOVY JS NODEJS PERL 6 PYPY PYTH 3.2.3 PYTH 3.2.3 n PY3.4 SCALA SCM chicken SED TCL VB.net </td></tr>
<tr><td>Resource:</td><td>Fair Isaac Programming Challenge - prelims 2006</td></tr>	
</table>
